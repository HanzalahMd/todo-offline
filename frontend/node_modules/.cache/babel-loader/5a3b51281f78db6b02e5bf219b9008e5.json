{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import RxDB from'rxdb';import{todoSchema}from'./Schema';import RxDBSchemaCheckModule from'rxdb/plugins/schema-check';import RxDBErrorMessagesModule from'rxdb/plugins/error-messages';import RxDBValidateModule from'rxdb/plugins/validate';RxDB.plugin(RxDBSchemaCheckModule);RxDB.plugin(RxDBErrorMessagesModule);RxDB.plugin(RxDBValidateModule);RxDB.plugin(require('pouchdb-adapter-idb'));export var createDb=function createDb(){var db;return _regeneratorRuntime.async(function createDb$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('DatabaseService: creating database..');_context.next=3;return _regeneratorRuntime.awrap(RxDB.create({name:'tododb',adapter:'idb'}));case 3:db=_context.sent;console.log('DatabaseService: created database');window['db']=db;// write to window for debugging\n_context.next=8;return _regeneratorRuntime.awrap(db.collection({name:'todos',schema:todoSchema}));case 8:return _context.abrupt(\"return\",db);case 9:case\"end\":return _context.stop();}}});};","map":{"version":3,"sources":["/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/src/components/Database.js"],"names":["RxDB","todoSchema","RxDBSchemaCheckModule","RxDBErrorMessagesModule","RxDBValidateModule","plugin","require","createDb","console","log","create","name","adapter","db","window","collection","schema"],"mappings":"0KAAA,MAAOA,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,UAAT,KAA2B,UAA3B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,2BAAlC,CACA,MAAOC,CAAAA,uBAAP,KAAoC,6BAApC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,uBAA/B,CACAJ,IAAI,CAACK,MAAL,CAAYH,qBAAZ,EACAF,IAAI,CAACK,MAAL,CAAYF,uBAAZ,EACAH,IAAI,CAACK,MAAL,CAAYD,kBAAZ,EACAJ,IAAI,CAACK,MAAL,CAAYC,OAAO,CAAC,qBAAD,CAAnB,EACA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,4HACpBC,OAAO,CAACC,GAAR,CAAY,sCAAZ,EADoB,iDAEHT,IAAI,CAACU,MAAL,CAAY,CACzBC,IAAI,CAAE,QADmB,CAEzBC,OAAO,CAAE,KAFgB,CAAZ,CAFG,SAEdC,EAFc,eAMpBL,OAAO,CAACC,GAAR,CAAY,mCAAZ,EACAK,MAAM,CAAC,IAAD,CAAN,CAAeD,EAAf,CAAmB;AAPC,iDAQdA,EAAE,CAACE,UAAH,CAAc,CAChBJ,IAAI,CAAE,OADU,CAEhBK,MAAM,CAAEf,UAFQ,CAAd,CARc,yCAYbY,EAZa,gDAAjB","sourcesContent":["import RxDB from 'rxdb';\nimport { todoSchema } from './Schema';\nimport RxDBSchemaCheckModule from 'rxdb/plugins/schema-check';\nimport RxDBErrorMessagesModule from 'rxdb/plugins/error-messages';\nimport RxDBValidateModule from 'rxdb/plugins/validate';\nRxDB.plugin(RxDBSchemaCheckModule);\nRxDB.plugin(RxDBErrorMessagesModule);\nRxDB.plugin(RxDBValidateModule);\nRxDB.plugin(require('pouchdb-adapter-idb'));\nexport const createDb = async () => {\n    console.log('DatabaseService: creating database..');\n    const db = await RxDB.create({\n        name: 'tododb',\n        adapter: 'idb',\n    });\n    console.log('DatabaseService: created database');\n    window['db'] = db; // write to window for debugging\n    await db.collection({\n        name: 'todos',\n        schema: todoSchema\n     })\n    return db;\n};"]},"metadata":{},"sourceType":"module"}