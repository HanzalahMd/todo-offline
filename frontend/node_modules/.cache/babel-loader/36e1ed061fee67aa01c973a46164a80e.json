{"ast":null,"code":"import _objectSpread from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from\"react\";import TodoItem from\"./TodoItem\";import TodoFilters from\"./TodoFilters\";var TodoList=/*#__PURE__*/function(_Component){_inherits(TodoList,_Component);function TodoList(props){var _this;_classCallCheck(this,TodoList);_this=_possibleConstructorReturn(this,_getPrototypeOf(TodoList).call(this,props));_this.state={filter:\"all\",clearInProgress:false};_this.filterResults=_this.filterResults.bind(_assertThisInitialized(_this));_this.clearCompleted=_this.clearCompleted.bind(_assertThisInitialized(_this));return _this;}_createClass(TodoList,[{key:\"filterResults\",value:function filterResults(filter){this.setState(_objectSpread({},this.state,{filter:filter}));}},{key:\"clearCompleted\",value:function clearCompleted(){this.props.db.todos.find({isCompleted:true}).remove();}},{key:\"render\",value:function render(){var todos=this.props.todos;var filteredTodos=todos;if(this.state.filter===\"active\"){filteredTodos=todos.filter(function(todo){return todo.isCompleted!==true;});}else if(this.state.filter===\"completed\"){filteredTodos=todos.filter(function(todo){return todo.isCompleted===true;});}var todoList=[];filteredTodos.forEach(function(todo,index){todoList.push(React.createElement(TodoItem,{key:index,index:index,todo:todo}));});return React.createElement(Fragment,null,React.createElement(\"div\",{className:\"todoListWrapper\"},React.createElement(\"ul\",null,todoList)),React.createElement(TodoFilters,{todos:filteredTodos,currentFilter:this.state.filter,filterResultsFn:this.filterResults,clearCompletedFn:this.clearCompleted,clearInProgress:this.state.clearInProgress}));}}]);return TodoList;}(Component);export default TodoList;","map":{"version":3,"sources":["/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/src/components/Todo/TodoList.js"],"names":["React","Component","Fragment","TodoItem","TodoFilters","TodoList","props","state","filter","clearInProgress","filterResults","bind","clearCompleted","setState","db","todos","find","isCompleted","remove","filteredTodos","todo","todoList","forEach","index","push"],"mappings":"kwCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,GAGMC,CAAAA,Q,kEACJ,kBAAYC,KAAZ,CAAmB,0CACjB,0EAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CACXC,MAAM,CAAE,KADG,CAEXC,eAAe,CAAE,KAFN,CAAb,CAKA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB,CATiB,aAUlB,C,yEAEaH,M,CAAQ,CACpB,KAAKK,QAAL,kBACK,KAAKN,KADV,EAEEC,MAAM,CAAEA,MAFV,IAID,C,uDAEgB,CACf,KAAKF,KAAL,CAAWQ,EAAX,CAAcC,KAAd,CAAoBC,IAApB,CAAyB,CAAEC,WAAW,CAAE,IAAf,CAAzB,EAA+CC,MAA/C,GACD,C,uCAEQ,CACP,GAAIH,CAAAA,KAAK,CAAG,KAAKT,KAAL,CAAWS,KAAvB,CACA,GAAII,CAAAA,aAAa,CAAGJ,KAApB,CACA,GAAI,KAAKR,KAAL,CAAWC,MAAX,GAAsB,QAA1B,CAAoC,CAClCW,aAAa,CAAGJ,KAAK,CAACP,MAAN,CAAa,SAAAY,IAAI,QAAIA,CAAAA,IAAI,CAACH,WAAL,GAAqB,IAAzB,EAAjB,CAAhB,CACD,CAFD,IAEO,IAAI,KAAKV,KAAL,CAAWC,MAAX,GAAsB,WAA1B,CAAuC,CAC5CW,aAAa,CAAGJ,KAAK,CAACP,MAAN,CAAa,SAAAY,IAAI,QAAIA,CAAAA,IAAI,CAACH,WAAL,GAAqB,IAAzB,EAAjB,CAAhB,CACD,CAED,GAAMI,CAAAA,QAAQ,CAAG,EAAjB,CACAF,aAAa,CAACG,OAAd,CAAsB,SAACF,IAAD,CAAOG,KAAP,CAAiB,CACrCF,QAAQ,CAACG,IAAT,CACE,oBAAC,QAAD,EACE,GAAG,CAAED,KADP,CAEE,KAAK,CAAEA,KAFT,CAGE,IAAI,CAAEH,IAHR,EADF,EAOD,CARD,EAUA,MACE,qBAAC,QAAD,MACE,2BAAK,SAAS,CAAC,iBAAf,EACE,8BACIC,QADJ,CADF,CADF,CAOE,oBAAC,WAAD,EACE,KAAK,CAAEF,aADT,CAEE,aAAa,CAAE,KAAKZ,KAAL,CAAWC,MAF5B,CAGE,eAAe,CAAE,KAAKE,aAHxB,CAIE,gBAAgB,CAAE,KAAKE,cAJzB,CAKE,eAAe,CAAE,KAAKL,KAAL,CAAWE,eAL9B,EAPF,CADF,CAiBD,C,sBA7DoBR,S,EAqEvB,cAAeI,CAAAA,QAAf","sourcesContent":["import React, { Component, Fragment } from \"react\";\n\nimport TodoItem from \"./TodoItem\";\nimport TodoFilters from \"./TodoFilters\";\nimport PropTypes from \"prop-types\";\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filter: \"all\",\n      clearInProgress: false,\n    };\n\n    this.filterResults = this.filterResults.bind(this);\n    this.clearCompleted = this.clearCompleted.bind(this);\n  }\n\n  filterResults(filter) {\n    this.setState({\n      ...this.state,\n      filter: filter\n    });\n  }\n\n  clearCompleted() {\n    this.props.db.todos.find({ isCompleted: true}).remove()\n  }\n\n  render() {\n    let todos = this.props.todos;\n    let filteredTodos = todos;\n    if (this.state.filter === \"active\") {\n      filteredTodos = todos.filter(todo => todo.isCompleted !== true);\n    } else if (this.state.filter === \"completed\") {\n      filteredTodos = todos.filter(todo => todo.isCompleted === true);\n    }\n\n    const todoList = [];\n    filteredTodos.forEach((todo, index) => {\n      todoList.push(\n        <TodoItem\n          key={index}\n          index={index}\n          todo={todo}\n        />\n      );\n    });\n\n    return (\n      <Fragment>\n        <div className=\"todoListWrapper\">\n          <ul>\n            { todoList }\n          </ul>\n        </div>\n\n        <TodoFilters\n          todos={filteredTodos}\n          currentFilter={this.state.filter}\n          filterResultsFn={this.filterResults}\n          clearCompletedFn={this.clearCompleted}\n          clearInProgress={this.state.clearInProgress}\n        />\n      </Fragment>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.array.isRequired,\n  auth: PropTypes.any.isRequired,\n};\n\nexport default TodoList;\n"]},"metadata":{},"sourceType":"module"}