{"ast":null,"code":"import { newRxError } from '../../rx-error';\nimport { rxDatabaseProperties } from './entity-properties';\nimport { validateCouchDBString } from '../../pouch-db';\nimport { isFolderPath } from '../../util';\n/**\n * if the name of a collection\n * clashes with a property of RxDatabase,\n * we get problems so this function prohibits this\n */\n\nexport function ensureCollectionNameValid(args) {\n  if (rxDatabaseProperties().includes(args.name)) {\n    throw newRxError('DB5', {\n      name: args.name\n    });\n  }\n}\nexport function ensureDatabaseNameIsValid(args) {\n  /**\n   * Not all strings can be used as couchdb collection name\n   * So we only allow couchdb-valid string as databse name\n   * which solves some strange bugs.\n   */\n  validateCouchDBString(args.name);\n  /**\n   * The server-plugin has problems when a path with and ending slash is given\n   * So we do not allow this.\n   * @link https://github.com/pubkey/rxdb/issues/2251\n   */\n\n  if (isFolderPath(args.name)) {\n    if (args.name.endsWith('/') || args.name.endsWith('\\\\')) {\n      throw newRxError('DB11', {\n        name: args.name\n      });\n    }\n  }\n}","map":{"version":3,"sources":["/Users/Hanzalah/Desktop/github/todo-offline/rxdb-hasura-demo/node_modules/rxdb/dist/es/plugins/dev-mode/unallowed-properties.js"],"names":["newRxError","rxDatabaseProperties","validateCouchDBString","isFolderPath","ensureCollectionNameValid","args","includes","name","ensureDatabaseNameIsValid","endsWith"],"mappings":"AAAA,SAASA,UAAT,QAA2B,gBAA3B;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,SAASC,qBAAT,QAAsC,gBAAtC;AACA,SAASC,YAAT,QAA6B,YAA7B;AACA;;;;;;AAMA,OAAO,SAASC,yBAAT,CAAmCC,IAAnC,EAAyC;AAC9C,MAAIJ,oBAAoB,GAAGK,QAAvB,CAAgCD,IAAI,CAACE,IAArC,CAAJ,EAAgD;AAC9C,UAAMP,UAAU,CAAC,KAAD,EAAQ;AACtBO,MAAAA,IAAI,EAAEF,IAAI,CAACE;AADW,KAAR,CAAhB;AAGD;AACF;AACD,OAAO,SAASC,yBAAT,CAAmCH,IAAnC,EAAyC;AAC9C;;;;;AAKAH,EAAAA,qBAAqB,CAACG,IAAI,CAACE,IAAN,CAArB;AACA;;;;;;AAMA,MAAIJ,YAAY,CAACE,IAAI,CAACE,IAAN,CAAhB,EAA6B;AAC3B,QAAIF,IAAI,CAACE,IAAL,CAAUE,QAAV,CAAmB,GAAnB,KAA2BJ,IAAI,CAACE,IAAL,CAAUE,QAAV,CAAmB,IAAnB,CAA/B,EAAyD;AACvD,YAAMT,UAAU,CAAC,MAAD,EAAS;AACvBO,QAAAA,IAAI,EAAEF,IAAI,CAACE;AADY,OAAT,CAAhB;AAGD;AACF;AACF","sourcesContent":["import { newRxError } from '../../rx-error';\nimport { rxDatabaseProperties } from './entity-properties';\nimport { validateCouchDBString } from '../../pouch-db';\nimport { isFolderPath } from '../../util';\n/**\n * if the name of a collection\n * clashes with a property of RxDatabase,\n * we get problems so this function prohibits this\n */\n\nexport function ensureCollectionNameValid(args) {\n  if (rxDatabaseProperties().includes(args.name)) {\n    throw newRxError('DB5', {\n      name: args.name\n    });\n  }\n}\nexport function ensureDatabaseNameIsValid(args) {\n  /**\n   * Not all strings can be used as couchdb collection name\n   * So we only allow couchdb-valid string as databse name\n   * which solves some strange bugs.\n   */\n  validateCouchDBString(args.name);\n  /**\n   * The server-plugin has problems when a path with and ending slash is given\n   * So we do not allow this.\n   * @link https://github.com/pubkey/rxdb/issues/2251\n   */\n\n  if (isFolderPath(args.name)) {\n    if (args.name.endsWith('/') || args.name.endsWith('\\\\')) {\n      throw newRxError('DB11', {\n        name: args.name\n      });\n    }\n  }\n}\n//# sourceMappingURL=unallowed-properties.js.map"]},"metadata":{},"sourceType":"module"}