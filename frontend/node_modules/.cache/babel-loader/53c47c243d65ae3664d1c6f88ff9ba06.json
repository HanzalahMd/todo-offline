{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Parents } from './parents';\nimport { AbstractNode } from './abstract-node';\nimport { oppositeBoolean } from './util';\n\nvar LeafNode =\n/** @class */\nfunction (_super) {\n  __extends(LeafNode, _super);\n\n  function LeafNode(level, rootNode, value, parent) {\n    var _this = _super.call(this, level, rootNode, 'LeafNode') || this;\n\n    _this.value = value;\n    _this.parents = new Parents(_this);\n\n    _this.parents.add(parent);\n\n    return _this;\n  }\n\n  LeafNode.prototype.removeIfValueEquals = function (value) {\n    var _this = this;\n\n    this.ensureNotDeleted();\n\n    if (this.value !== value) {\n      return false;\n    }\n\n    var parents = this.parents.getAll();\n    parents.forEach(function (parent) {\n      var branchKey = parent.branches.getKeyOfNode(_this);\n      var otherBranch = parent.branches.getBranch(oppositeBoolean(branchKey));\n\n      _this.parents.remove(parent);\n\n      parent.branches.setBranch(branchKey, otherBranch);\n\n      if (parent.isInternalNode()) {\n        parent.applyReductionRule();\n      }\n    });\n    return true;\n  };\n\n  return LeafNode;\n}(AbstractNode);\n\nexport { LeafNode };","map":{"version":3,"sources":["../../src/leaf-node.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS,OAAT,QAAwB,WAAxB;AACA,SAAS,YAAT,QAA6B,iBAA7B;AAGA,SAAS,eAAT,QAAgC,QAAhC;;AAGA,IAAA,QAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA8B,EAAA,SAAA,CAAA,QAAA,EAAA,MAAA,CAAA;;AAG1B,WAAA,QAAA,CACI,KADJ,EAEI,QAFJ,EAGW,KAHX,EAII,MAJJ,EAIuB;AAJvB,QAAA,KAAA,GAMI,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,EAAa,QAAb,EAAuB,UAAvB,KAAkC,IANtC;;AAGW,IAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AALJ,IAAA,KAAA,CAAA,OAAA,GAAU,IAAI,OAAJ,CAAY,KAAZ,CAAV;;AASH,IAAA,KAAI,CAAC,OAAL,CAAa,GAAb,CAAiB,MAAjB;;;AACH;;AAED,EAAA,QAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,UAAoB,KAApB,EAAiC;AAAjC,QAAA,KAAA,GAAA,IAAA;;AACI,SAAK,gBAAL;;AAEA,QAAI,KAAK,KAAL,KAAe,KAAnB,EAA0B;AACtB,aAAO,KAAP;AACH;;AAED,QAAM,OAAO,GAAG,KAAK,OAAL,CAAa,MAAb,EAAhB;AACA,IAAA,OAAO,CAAC,OAAR,CAAgB,UAAA,MAAA,EAAM;AAClB,UAAM,SAAS,GAAG,MAAM,CAAC,QAAP,CAAgB,YAAhB,CAA6B,KAA7B,CAAlB;AACA,UAAM,WAAW,GAAG,MAAM,CAAC,QAAP,CAAgB,SAAhB,CAA0B,eAAe,CAAC,SAAD,CAAzC,CAApB;;AACA,MAAA,KAAI,CAAC,OAAL,CAAa,MAAb,CAAoB,MAApB;;AACA,MAAA,MAAM,CAAC,QAAP,CAAgB,SAAhB,CAA0B,SAA1B,EAAqC,WAArC;;AACA,UAAI,MAAM,CAAC,cAAP,EAAJ,EAA6B;AACxB,QAAA,MAAuB,CAAC,kBAAxB;AACJ;AACJ,KARD;AAUA,WAAO,IAAP;AACH,GAnBD;;AAsBJ,SAAA,QAAA;AAAC,CAnCD,CAA8B,YAA9B,CAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Parents } from './parents';\nimport { AbstractNode } from './abstract-node';\nimport { oppositeBoolean } from './util';\nvar LeafNode = /** @class */ (function (_super) {\n    __extends(LeafNode, _super);\n    function LeafNode(level, rootNode, value, parent) {\n        var _this = _super.call(this, level, rootNode, 'LeafNode') || this;\n        _this.value = value;\n        _this.parents = new Parents(_this);\n        _this.parents.add(parent);\n        return _this;\n    }\n    LeafNode.prototype.removeIfValueEquals = function (value) {\n        var _this = this;\n        this.ensureNotDeleted();\n        if (this.value !== value) {\n            return false;\n        }\n        var parents = this.parents.getAll();\n        parents.forEach(function (parent) {\n            var branchKey = parent.branches.getKeyOfNode(_this);\n            var otherBranch = parent.branches.getBranch(oppositeBoolean(branchKey));\n            _this.parents.remove(parent);\n            parent.branches.setBranch(branchKey, otherBranch);\n            if (parent.isInternalNode()) {\n                parent.applyReductionRule();\n            }\n        });\n        return true;\n    };\n    return LeafNode;\n}(AbstractNode));\nexport { LeafNode };\n//# sourceMappingURL=leaf-node.js.map"]},"metadata":{},"sourceType":"module"}